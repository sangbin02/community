<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìµëª… ê²Œì‹œíŒ</title>
    <link rel="stylesheet" href="styles.css"> <!-- ì™¸ë¶€ CSS íŒŒì¼ ì—°ê²° -->
</head>
<body>
    <div id="banner">
        <h1>ê²Œì‹œíŒ ì œëª©</h1>
        <p id="boardIntro">ê²Œì‹œíŒ ì†Œê°œê¸€ì´ë‚˜ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ì—¬ê¸°ì— ì‘ì„±í•˜ì„¸ìš”.</p>
    </div>

    <div>
        <input type="text" id="inputNickname" placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”">
        <textarea id="inputMessage" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        <input type="file" id="fileInput" class="comment-input">
        <button class="btnWrite" onclick="writePost()">ê¸€ì“°ê¸°</button>
    </div>

    <ul id="messages"></ul>

    <script>
        function writePost() {
    var nicknameInput = document.getElementById('inputNickname');
    var messageInput = document.getElementById('inputMessage');
    var fileInput = document.getElementById('fileInput');

    var nickname = nicknameInput.value;
    var message = messageInput.value;

    if (nickname.trim() === '' || message.trim() === '') {
        alert('ë‹‰ë„¤ì„ê³¼ ë©”ì‹œì§€ë¥¼ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.');
        return;
    }

    // ë©”ì‹œì§€ë¥¼ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
    var messagesList = document.getElementById('messages');
    var messageDiv = document.createElement('div');
    messageDiv.className = 'message';

    // ë‹‰ë„¤ì„ê³¼ ë‚´ìš© í‘œì‹œ
    var headerDiv = document.createElement('div');
    headerDiv.className = 'header';
    headerDiv.appendChild(document.createTextNode('ë‹‰ë„¤ì„: ' + nickname));
    messageDiv.appendChild(headerDiv);

    var contentDiv = document.createElement('div');
    contentDiv.className = 'content';
    contentDiv.appendChild(document.createTextNode('ë‚´ìš©: ' + message));
    messageDiv.appendChild(contentDiv);

    // ì¢‹ì•„ìš” ë²„íŠ¼ ì¶”ê°€
    var likeButton = document.createElement('span');
    likeButton.className = 'likes';
    likeButton.onclick = function () {
        likeMessage(messageDiv);
    };
    likeButton.appendChild(document.createTextNode('ğŸ‘ 0'));
    messageDiv.appendChild(likeButton);

    // ì‚¬ì§„ ì²¨ë¶€ ê¸°ëŠ¥
    if (fileInput.files.length > 0) {
        var image = document.createElement('img');
        image.src = URL.createObjectURL(fileInput.files[0]);
        messageDiv.appendChild(image);
    }

    // ëŒ“ê¸€ ì…ë ¥ í•„ë“œ ì¶”ê°€
    var commentsDiv = document.createElement('div');
    commentsDiv.className = 'comments';

    var commentNicknameInput = document.createElement('input');
    commentNicknameInput.type = 'text';
    commentNicknameInput.placeholder = 'ëŒ“ê¸€ ì‘ì„±ì ë‹‰ë„¤ì„';
    commentNicknameInput.className = 'comment-input';
    commentsDiv.appendChild(commentNicknameInput);

    var commentInput = document.createElement('input');
    commentInput.type = 'text';
    commentInput.placeholder = 'ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”';
    commentInput.className = 'comment-input';
    commentsDiv.appendChild(commentInput);

    // ëŒ“ê¸€ ì „ì†¡ ë²„íŠ¼ ì¶”ê°€
    var btnComment = document.createElement('button');
    btnComment.className = 'btnComment';
    btnComment.appendChild(document.createTextNode('ëŒ“ê¸€ ë“±ë¡'));
    btnComment.onclick = function () {
        addComment(messageDiv, commentNicknameInput.value, commentInput.value);
    };
    commentsDiv.appendChild(btnComment);

    messageDiv.appendChild(commentsDiv);

    // ë¦¬ìŠ¤íŠ¸ì˜ ë§¨ ì•ì— ì¶”ê°€
    messagesList.insertBefore(messageDiv, messagesList.firstChild);

    // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
    nicknameInput.value = '';
    messageInput.value = '';
    fileInput.value = '';
    commentNicknameInput.value = '';
    commentInput.value = '';

    // ëŒ“ê¸€ ë³´ê¸°/ì ‘ê¸° í† ê¸€ ë²„íŠ¼
    var toggleCommentsButton = document.createElement('button');
    toggleCommentsButton.className = 'toggleCommentsButton';
    toggleCommentsButton.appendChild(document.createTextNode('ëŒ“ê¸€ ë³´ê¸°/ì ‘ê¸°'));
    toggleCommentsButton.onclick = function () {
        toggleComments(commentsDiv);
    };
    messageDiv.appendChild(toggleCommentsButton);
}


        function toggleComments(commentsDiv) {
            commentsDiv.style.display = commentsDiv.style.display === 'none' ? 'block' : 'none';
        }

        function addComment(messageDiv, commentNickname, comment) {
            var commentsDiv = messageDiv.querySelector('.comments');
            var commentDiv = document.createElement('div');
            commentDiv.className = 'comment';
            commentDiv.appendChild(document.createTextNode(commentNickname + ': ' + comment));
            commentsDiv.appendChild(commentDiv);
        }

        function likeMessage(messageDiv) {
            var likesSpan = messageDiv.querySelector('.likes');
            var likeCount = parseInt(likesSpan.textContent.split(' ')[1]) + 1;
            likesSpan.textContent = 'ğŸ‘ ' + likeCount;
            likesSpan.style.color = 'red';
            likesSpan.onclick = null;  // ì¢‹ì•„ìš” ì¤‘ë³µ í´ë¦­ ë°©ì§€
        }
    </script>
</body>
</html>
